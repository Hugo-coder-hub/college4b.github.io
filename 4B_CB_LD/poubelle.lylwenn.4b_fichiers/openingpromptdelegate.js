define(["require","exports","app/gen/service/space","app/objects/centralwindow/centralwindow","app/pub/pubhelper","app/core/stats/statsclient","app/spirit/spiritPresentationModal"],function(t,i,o,e,s,n,a){var r;Object.defineProperty(i,"__esModule",{value:!0}),i.opd=void 0,(r||(i.opd={})).OpeningPromptDelegate=class{constructor(t,i){this.sandbox=t,this.data=i}notifyOpeningPrompt(t,i,e){o.space.notifyOpeningPromptResponse(this.sandbox,t,i,(e=e||{onNotifySuccess:t=>this.onNotifySuccess(t),onNotifyError:()=>this.onNotifyError()}).onNotifySuccess,e.onNotifyError)}getTag(){return this.data.promptId+this.data.title}executeAction(t,i,e){switch(this.sandbox.logger.i(this.getTag()+" accepted"),t){case 0:break;case 3:this.openWorld4();break;case 4:this.goToLibrary();break;case 5:this.sendMail();break;case 6:this.openLink();break;case 7:(0,a.openSpiritPresentationContainer)(this.sandbox,n.statsclient.getManager(this.sandbox),"cp",()=>i(),()=>e());break;default:this.sandbox.logger.i(this.getTag()+" "+this.data.action+" not implemented in WEB")}7!==t&&null!=e&&e()}accept(){this.data.executeActionRightAway?this.executeAction(this.data.action,()=>this.notify(1),()=>this.notify(2,!1)):(e.centralWindow.get(this.sandbox).hide(()=>{this.executeAction(this.data.action)}),this.notify(2))}notify(t,i=!0){this.didNotify&&i||(this.didNotify=!0,this.notifyOpeningPrompt(this.data.promptId,t,null))}openLink(){window.open(this.data.actionParameter,"_blank")}sendMail(){window.open("mailto:"+this.data.actionParameter,"_self")}goToLibrary(){this.sandbox.getEventBus().publish(47,1)}openWorld4(){s.pubhelper.get(this.sandbox).isRightColHidden()&&$("#rightcol-button").click()}ignore(){this.sandbox.logger.i(this.getTag()+" ignored"),this.notify(1)}onNotifySuccess(t){this.sandbox.logger.i(this.getTag()+" notified")}onNotifyError(){this.sandbox.logger.i(this.getTag()+" notification failed")}}});