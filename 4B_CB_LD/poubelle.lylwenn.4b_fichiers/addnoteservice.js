define(["require","exports","app/core/sync/synchroclient"],function(e,r,p){var l;function i(r,e=!0){if(e)t=$(r).text();else try{var t=$(r).text()}catch(e){t=r}e=t.indexOf("\n");if((e=-1==e?t.length:e)<=50)return l+t.substr(0,e);for(var n=t.substr(0,e),a=n.lastIndexOf(" ");50<=a;)a=(n=t.substr(0,a)).lastIndexOf(" ");return l+n+"..."}Object.defineProperty(r,"__esModule",{value:!0}),r.addNoteService=void 0,r=r.addNoteService={},l="[PT_TITLE_HIDDEN]",r.defaultTitle=i,r.createPearlNoteFromRawText=function(e,r,t,n,a=!1,l){var c="<p>"+r.replace(/\r\n\r\n/g,"</p><br/><p>").replace(/\r\n/g,"</p><p>").replace(/\r/g,"</p><p>").replace(/\n/g,"</p><p>")+"</p>\n",n=n&&""!=n?n:i(r,!1),r=new p.synchroClient.ClientCreatePearl(e);return t.isFromDrag=a,r.createNotePearl(n,c,null,t,l)}});